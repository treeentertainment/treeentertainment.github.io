@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* ==============================
   GitHub-style Admonitions
   ============================== */

/* Admonition base styles */
.prose blockquote.admonition {
  margin:  1rem 0;
  border-left: 4px solid #e5e7eb;
  background: #f9fafb;
  padding: 0.75rem 1rem;
  border-radius: 0.375rem;
  quotes: none;
  font-style: normal;  /* Remove default blockquote italic */
}

/* Admonition title */
.prose blockquote.admonition > .admonition-title {
  margin:  0 0 0.25rem 0;
  font-weight: 400; /* 600 → normal */
  font-style: normal;
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

/* Admonition body:  remove italic */
.prose blockquote.admonition p {
  font-style: normal;
  font-weight: normal;
  color: inherit;
  margin: 0.25rem 0;
}

/* Markdown bold syntax is preserved */
.prose blockquote.admonition strong {
  font-weight: 700;
}
/* Remove bold in title */
.prose blockquote.admonition > .admonition-title strong,
.prose blockquote.admonition > .admonition-title b {
  font-weight: inherit;
}
/* Keep bold in body */
.prose blockquote.admonition:not(.admonition-title) strong {
  font-weight: 700;
}

/* Markdown italic syntax works normally */
.prose blockquote.admonition em {
  font-style: italic;
}

/* Type-specific colors */
.prose blockquote.admonition.note { border-left-color: #3b82f6; background: #eff6ff; }
.prose blockquote.admonition.tip { border-left-color: #10b981; background: #ecfdf5; }
.prose blockquote.admonition.important { border-left-color: #8b5cf6; background: #f5f3ff; }
.prose blockquote.admonition.warning { border-left-color: #f59e0b; background: #fffbeb; }
.prose blockquote.admonition.caution { border-left-color: #ef4444; background: #fef2f2; }

/* Code wrapping */
.prose pre code {
  white-space: pre-wrap;
  word-break: break-word;
}

/* ====================================
   FIX: 일반 blockquote 따옴표 제거
   ==================================== */
/* Completely disable all blockquote quotes */
.prose blockquote {
  quotes: none ! important;
  font-style: normal ! important;
}

.prose blockquote::before,
.prose blockquote::after {
  content: none !important;
}

.prose blockquote p {
  font-style: normal !important;
}

.prose blockquote.admonition.note > .admonition-title {
  text-transform: uppercase;
  font-weight: 600;
}

.prose blockquote.admonition.note > .admonition-title { color:#1d4ed8; }
.prose blockquote.admonition.tip > .admonition-title { color:#047857; }
.prose blockquote.admonition.important > .admonition-title { color:#6d28d9; }
.prose blockquote.admonition.warning > .admonition-title { color:#b45309; }
.prose blockquote.admonition.caution > .admonition-title { color:#b91c1c; }

/* Octicon 공통 */
.prose blockquote.admonition > .admonition-title::before {
  content:"";
  display: inline-block;
  width: 16px;
  height:16px;
  margin-right:4px;
  background: currentColor;
}

/* NOTE */
.prose blockquote.admonition.note > .admonition-title::before {
  -webkit-mask: url("https://raw.githubusercontent.com/primer/octicons/main/icons/info-16.svg") no-repeat center / contain;
          mask: url("https://raw.githubusercontent.com/primer/octicons/main/icons/info-16.svg") no-repeat center / contain;
}

/* TIP */
.prose blockquote.admonition.tip > .admonition-title::before {
  -webkit-mask: url("https://raw.githubusercontent.com/primer/octicons/main/icons/light-bulb-16.svg") no-repeat center / contain;
          mask: url("https://raw.githubusercontent.com/primer/octicons/main/icons/light-bulb-16.svg") no-repeat center / contain;
}

/* IMPORTANT */
.prose blockquote.admonition.important > .admonition-title::before {
  -webkit-mask: url("https://raw.githubusercontent.com/primer/octicons/main/icons/alert-16.svg") no-repeat center / contain;
          mask: url("https://raw.githubusercontent.com/primer/octicons/main/icons/alert-16.svg") no-repeat center / contain;
}

/* WARNING */
.prose blockquote.admonition.warning > .admonition-title::before {
  -webkit-mask: url("https://raw.githubusercontent.com/primer/octicons/main/icons/alert-16.svg") no-repeat center / contain;
          mask: url("https://raw.githubusercontent.com/primer/octicons/main/icons/alert-16.svg") no-repeat center / contain;
}

/* CAUTION (대체 아이콘) */
.prose blockquote.admonition.caution > .admonition-title::before {
  -webkit-mask: url("https://raw.githubusercontent.com/primer/octicons/main/icons/x-circle-16.svg") no-repeat center / contain;
          mask: url("https://raw.githubusercontent.com/primer/octicons/main/icons/x-circle-16.svg") no-repeat center / contain;
}

/* 외부 링크 아이콘 */
.prose a[target="_blank"]:not(.no-ext-icon) {
  position: relative;
  padding-right: 1.05em;
}

.prose a[target="_blank"]:not(.no-ext-icon)::after {
  content:"";
  position: absolute;
  top: 50%;
  right:  0;
  width: 0.85em;
  height: 0.85em;
  transform: translateY(-50%);
  background: currentColor;
  -webkit-mask: url("https://raw.githubusercontent.com/primer/octicons/main/icons/link-external-16.svg") no-repeat center / contain;
          mask: url("https://raw.githubusercontent.com/primer/octicons/main/icons/link-external-16.svg") no-repeat center / contain;
  opacity: .75;
}

.prose a[target="_blank"]:hover::after {
  opacity:1;
}

/* 내부(상대) 링크엔 제거하려면: 도메인 기준 필터 예시 */
.prose a[href^="/"]::after,
.prose a[href^="#"]::after {
  content:none;
}
